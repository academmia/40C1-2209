
<div class="container" *ngIf="projects && projects.length">
    <div class="row justify-content-between ">
        <div class="col-5 offset-3 mt-1">
            <label for="input">Cauta</label>
            <input [(ngModel)]='projectSearchText' type="text" placeholder="Filtrare">
        </div>
        <div class="col-4 mt-1">
            <h5 [hidden]='!projectSearchText'><em>Filtrare dupa: {{ projectSearchText }} </em></h5>
        </div>
    </div>

    <div class="row justify-content-center text-white">
        <div class="col-3 mt-2">
            <button (click)='selectCategory()'
                [ngClass]="(!selectedCategory) ? 'btn-info' : 'btn-outline-info'" 
                class="btn btn-block btn-info">Toate Categoriile</button>
            <button *ngFor="let category of getCategories()" 
                (click)='selectCategory(category)'
                [ngClass]="(selectedCategory && category.id==selectedCategory.id) ? 'btn-info' : 'btn-outline-info'"
                class="btn btn-block btn-info"> {{category.name}} </button>
        </div>
        <div class="col-9 mt-1">
            <div *ngFor="let project of (getPaginatedProjects() | projectFilter:projectSearchText); let i=index;"  
            hoverDisplay ownerName='James Hansen'
            class="card card-inverse card-outline-default m-2 project-card">
                <h4 class="card-header">
                    {{project.name}}
                    <span class="float-right ml-3" style="margin-right: -1rem; margin-top: -0.75rem;">
                        <button  
                            [confirmAction]='delete.bind(this)' [project]='project'
                            confirmMsg='Stergeti proiectul?'
                            type="button" class="btn btn-outline-secondary btn-sm text-white">x</button> </span>

                </h4>
                <div>
                    <category-image [categoryid]='project.category_id'
                        (categoryChanged)='onCategoryChange($event)'></category-image>
                    <h3 class="card-title ml-2 mt-1"><span class="badge badge-default">
                            {{project.code}} </span></h3>
                    <div class="card-text p-2">{{project.description}}</div>
                    <div class="card-footer text-right">Owner: <em>{{ project.owner_name }}</em></div>
                </div>
            </div>
        </div>
    </div>

    <div class="row justify-content-center" [hidden]='projectSearchText'>
        <div class="col-7 offset-3 btn-group mt-1">
            <button *ngFor="let page of pages"
                (click)="selectPage(page)"
                [class.active]="page == currentPage"
                class="btn btn-secondary">
                    {{page}}
            </button>
        </div>
        <div class="col-2 form-inline mt-2 pr-1 float-right">
            <select #pageSize [value]="perPage" 
                (change)="setPageSize(+pageSize.value)" 
                class="form-control form-control-sm pr-0 float-right">
                    <option value="3"> 03 / pagina</option>
                    <option value="5"> 05 / pagina</option>
                    <option value="10">10 / pagina</option>
                    <option value="20">20 / pagina</option>
            </select>
        </div>
    </div>

</div>
<div class="container" *ngIf="!(projects && projects.length)">
    <h4><em>Nu exista proiecte!</em></h4>
</div>

